# ДЗ 3

## Подготовка к выполнению работы
В качестве основной сущности приложения был выбран плейлист, так как он имеет Endpoint`ы на GET и POST запросы, а также реализует одну из ключевых задач приложения - социальное взаимодействие в рамках музыкального сервиса. 

В качестве инструмента был выбран [wrk](https://github.com/wg/wrk).
Параметры запроса описываются в lua скриптах, а непосредственно нагрузочное тестирование и передача jwt-токена для прохождения проверки авторизованности в sh скриптах.

При проведении wrk тестирования можно настроить следующие параметры
```
-c, --connections: total number of HTTP connections to keep open with
                   each thread handling N = connections/threads

-d, --duration:    duration of the test

-t, --threads:     total number of threads to use

-s, --script:      LuaJIT script

-H, --header:      HTTP header to add to request, e.g. "User-Agent: wrk"

    --latency:     print detailed latency statistics

    --timeout:     record a timeout if a response is not received within
                   this amount of time.
```

Для обеспечения достаточной нагрузки выбраны значения connections=200, threads=150.
Для более равномерного заполнения БД 100_000 сущностями (wrk.requests = 100000) 
устанавливаем duration=1800s

## Процесс выполнения работы

### Нагрузочное тестирование API Endpoint`а, создающего основную сущность
Выбранным инструментом проведите нагрузочное тестирование API Endpoint’а, который создает основную сущность. Необходимо создать в базе 100 тыс основных сущностей

Задокументируйте полученный результат - время выполнения, RPS и все, что считаете нужным

### Нагрузочное тестирование API Endpoint`а, создающего основную сущность
Теперь, когда ваша база заполнена, проведите нагрузочное тестирование одного API endpoint’а, который читает основную сущность.
Задокументируйте полученный результат - время выполнения, RPS и все, что считаете нужным

### Анализ полученных результатов.

Выходные результаты отражают:
- количество запущенныз потоков и процессов
```
_ threads and _ connections
```

- Latency (Время отклика) и Req/Sec (Количество запросов) в секунду, отражающие параметры функции Гаусса,
где Avg - среднее, Sydev - стандартное отклонение, Max - максимальное, +/- Stdev -  процент запросов в пределах стандартного отклоения
```
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency        _ms       _ms      _ms     _%
Req/Sec        _         _        _       _%
```

- количество переданных запросов за промежуток времени, переданные данные, пропускная способность
```
_ requests in _s, _MB read
Requests/sec:   _
Transfer/sec:   _KB
```

Проанализируйте полученные результаты. Подумайте, что стоит улучшить.
